<div class="animated fadeIn">
  <div class="card">
      <div class="card-header">
        Parametros
      </div>
      <div class="card-body">
        <div class="row">
            <div class="form-group col-sm-3">
              <label for="">Rango de fechas</label>
              <form>
                    <my-date-range-picker name="mydaterange" [options]="myDateRangePickerOptions"
                    (dateRangeChanged)="onDateRangeChanged($event)"
                    [(ngModel)]="model" required></my-date-range-picker>
            </form>
            </div>
            <div class="form-group col-sm-2">
              <label for="">Frecuencia</label>
              <ngx-select 
              [allowClear]="true"
              [items]="Frec"
              [(ngModel)]="frecText"
              (select)="frecSelect($event)"
              placeholder="Error: contacte al programador">
              </ngx-select>
            </div>
            <div class="form-group col-sm-2">
              <label for="">Vista</label>
              <ngx-select 
              [allowClear]="true"
              [items]="Views"
              [(ngModel)]="View"
              (select)="viewSelect($event)"
              placeholder="Error: contacte al programador">
              </ngx-select>
            </div>
            <div class="form-group col-sm-3">
              <label for="">Estadistica</label>
              <ngx-select 
              [allowClear]="true"
              [items]="Types"
              [(ngModel)]="Type"
              (select)="typeSelect($event)"
              placeholder="Seleccione una estadistica a mostrar">
              </ngx-select>
            </div>
            <div class="form-group col-sm-2 m-auto">
                <button  class="btn btn-sm btn-primary" (click)="ToggleGraph()"><i class="fa fa-dot-circle-o"></i>Ver {{!toggleTable && "gráfica" || "tabla"}}</button>
            </div>
            
          </div>
      </div>
    </div>
<div [ngSwitch]="Type">
  <div class="card-columns cols-2" style="height: 500px;" *ngSwitchCase="1">
    <div class="card" >
      <div class="card-header">
        Porcentaje de utilización
      </div>
      <div class="card-body" *ngIf="lineChartData[0].data.length>0">
        <div class="chart">
          <canvas baseChart class="chart"
          [datasets]="lineChartData"
          [labels]="lineChartLabels"
          [options]="lineChartOptions"
          [colors]="lineChartColours"
          [legend]="lineChartLegend"
          [chartType]="lineChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    
  </div>
    <div class="card" *ngIf="toggleTable">
        
      <div class="card-header">
        Bar Chart
      </div>
      <div class="card-body" >
        <div class="chart-wrapper">
          <canvas baseChart class="chart"
          [datasets]="barChartData"
          [labels]="barChartLabels"
          [options]="barChartOptions"
          [legend]="barChartLegend"
          [chartType]="barChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
    <div class="card" *ngIf="!toggleTable">
        <div class="card-header">
          <i class="fa fa-align-justify"></i> Resumen
        </div>
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Porcentaje de producción</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of elementsTable,let i = index">
                <td>{{usersResult[item+5*tabNumber] && usersResult[item+5*tabNumber].name || "" }}</td>
                <td>{{usersResult[item+5*tabNumber] && (summaryPerc[i+5*tabNumber] && summaryPerc[i+5*tabNumber].toFixed(2) || "0"  )|| ""}}</td>
              </tr>
            </tbody>
          </table>
          <ul class="pagination">
            <li class="page-item" (click)="prevTab()"><a class="page-link" >Prev</a></li>
            <li *ngFor="let num of summaryPercNum, let i = index" class="page-item" (click)="changeTab(i)"><a class="page-link">{{i+1}}</a></li>
            <li class="page-item" (click)="nextTab()"><a class="page-link" >Next</a></li>

          </ul>
        </div>
      </div>
  </div>
  <div class="card-columns cols-2" style="height: 500px;" *ngSwitchCase="2">
      <div class="card" >
        <div class="card-header">        
          Producción por desarrollador
        </div>
        <div class="card-body" *ngIf="lineChartData[0].data.length>0">
          <div class="chart">
            <canvas baseChart class="chart"
            [datasets]="lineChartData"
            [labels]="lineChartLabels"
            [options]="lineChartOptions"
            [colors]="lineChartColours"
            [legend]="lineChartLegend"
            [chartType]="lineChartType"
            (chartHover)="chartHovered($event)"
            (chartClick)="chartClicked($event)"></canvas>
          </div>
        </div>
      
    </div>
      <div class="card" *ngIf="toggleTable">
          
        <div class="card-header">
          Bar Chart
        </div>
        <div class="card-body" >
          <div class="chart-wrapper">
            <canvas baseChart class="chart"
            [datasets]="barChartData"
            [labels]="barChartLabels"
            [options]="barChartOptions"
            [legend]="barChartLegend"
            [chartType]="barChartType"
            (chartHover)="chartHovered($event)"
            (chartClick)="chartClicked($event)"></canvas>
          </div>
        </div>
      </div>
      <div class="card" *ngIf="!toggleTable">
          <div class="card-header">
            <i class="fa fa-align-justify"></i> Resumen
          </div>
          <div class="card-body">
            <table class="table">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Porcentaje de producción</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of elementsTable,let i = index">
                  <td>{{usersResult[item+5*tabNumber] && usersResult[item+5*tabNumber].name || "" }}</td>
                  <td>{{usersResult[item+5*tabNumber] && (summaryPerc[i+5*tabNumber] && summaryPerc[i+5*tabNumber].toFixed(2) || "0"  )|| ""}}</td>
                </tr>
              </tbody>
            </table>
            <ul class="pagination">
              <li class="page-item" (click)="prevTab()"><a class="page-link" >Prev</a></li>
              <li *ngFor="let num of summaryPercNum, let i = index" class="page-item" (click)="changeTab(i)"><a class="page-link">{{i+1}}</a></li>
              <li class="page-item" (click)="nextTab()"><a class="page-link" >Next</a></li>
            </ul>
          </div>
        </div>
    </div>
      <div class="card-columns cols-2" style="height: 500px;" *ngSwitchCase="3">
    <div class="card" >
      <div class="card-header">        
        Producción por Cliente
      </div>
      <div class="card-body" *ngIf="lineChartData[0].data.length>0">
        <div class="chart">
          <canvas baseChart class="chart"
          [datasets]="lineChartData"
          [labels]="lineChartLabels"
          [options]="lineChartOptions"
          [colors]="lineChartColours"
          [legend]="lineChartLegend"
          [chartType]="lineChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    
  </div>
    <div class="card" *ngIf="toggleTable">
        
      <div class="card-header">
        Bar Chart
      </div>
      <div class="card-body" >
        <div class="chart-wrapper">
          <canvas baseChart class="chart"
          [datasets]="barChartData"
          [labels]="barChartLabels"
          [options]="barChartOptions"
          [legend]="barChartLegend"
          [chartType]="barChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
    <div class="card" *ngIf="!toggleTable">
        <div class="card-header">
          <i class="fa fa-align-justify"></i> Resumen
        </div>
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Producción por cliente</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of elementsTable,let i = index">
                <td>{{clientResult[item+5*tabNumber] && clientResult[item+5*tabNumber].name || "" }}</td>
                <td>{{clientResult[item+5*tabNumber] && (summaryPercClient[i+5*tabNumber] && summaryPercClient[i+5*tabNumber].toFixed(2) || "0"  ) || ""}}</td>
              </tr>
            </tbody>
          </table>
          <ul class="pagination">
            <li class="page-item" (click)="prevTab()"><a class="page-link" >Prev</a></li>
            <li *ngFor="let num of summaryPercNumClient, let i = index" class="page-item" (click)="changeTab(i)"><a class="page-link">{{i+1}}</a></li>
            <li class="page-item" (click)="nextTab()"><a class="page-link" >Next</a></li>
          </ul>
        </div>
      </div>
  </div>
</div>
  <!-- 
    <div class="card">
      <div class="card-header">
        Doughnut Chart
        <div class="card-actions">
          <a href="http://www.chartjs.org">
            <small class="text-muted">docs</small>
          </a>
        </div>
      </div>
      <div class="card-body">
        <div class="chart-wrapper">
          <canvas baseChart class="chart"
          [data]="doughnutChartData"
          [labels]="doughnutChartLabels"
          [chartType]="doughnutChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        Radar Chart
        <div class="card-actions">
          <a href="http://www.chartjs.org">
            <small class="text-muted">docs</small>
          </a>
        </div>
      </div>
      <div class="card-body">
        <div class="chart-wrapper">
          <canvas baseChart class="chart"
          [datasets]="radarChartData"
          [labels]="radarChartLabels"
          [chartType]="radarChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        Pie Chart
        <div class="card-actions">
          <a href="http://www.chartjs.org">
            <small class="text-muted">docs</small>
          </a>
        </div>
      </div>
      <div class="card-body">
        <div class="chart-wrapper">
          <canvas baseChart class="chart"
          [data]="pieChartData"
          [labels]="pieChartLabels"
          [chartType]="pieChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        Polar Area Chart
        <div class="card-actions">
          <a href="http://www.chartjs.org">
            <small class="text-muted">docs</small>
          </a>
        </div>
      </div>
      <div class="card-body">
        <div class="chart-wrapper">
          <canvas baseChart class="chart"
          [data]="polarAreaChartData"
          [labels]="polarAreaChartLabels"
          [legend]="polarAreaLegend"
          [chartType]="polarAreaChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div> -->
 

